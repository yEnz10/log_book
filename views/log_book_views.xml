<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- ใบฝากรวม -->
    <record id="log_book_action" model="ir.actions.act_window"> 
        <field name="name">ใบฝากรวม</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">log.book</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create a new quotation, the first step of a new log book!
            </p>
        </field>
    </record>

    <record id="log_book_postal_type_action" model="ir.actions.act_window"> <!-- Model ~ Master:(log book type) -->
        <field name="name">ประเภทใบฝาก</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">log.book.postal.type</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create a new quotation, the first step of a new log book type!
            </p>
        </field>
    </record>

    <record id="log_book_tree" model="ir.ui.view"> <!-- Tree ใบฝากรวม -->
        <field name="name">log.book.tree</field>
        <field name="model">log.book</field>
        <field name="arch" type="xml">
            <tree>
                <header>
                    <button 
                    name="action_print_pdf" 
                    string=" Print ใบฝากรวม (PDF)" 
                    class="btn-primary" 
                    type="object" 
                    icon="fa-print"
                    />
                </header>
                <field name="create_date" />
                <field name="postal_type" 
                    decoration-success="postal_type == 'REG'"
                    decoration-info="postal_type == 'PCP'"
                    widget="badge"
                />
                <field name="recipient_name" />
                <field name="destination" />
                <field name="barcode" />
                <field name="weight" sum="น้ำหนักรวม" />
                <field name="service_charge" sum="รวมค่าบริการ" />
                <field name="note" />
            </tree>
        </field>
    </record>

    <record id="log_book_postal_type_tree" model="ir.ui.view"> <!-- Tree ~ Master:(log book type) -->
        <field name="name">log.book.postal.type.tree</field>
        <field name="model">log.book.postal.type</field>
        <field name="arch" type="xml">
            <tree>
                <field name="code" />
                <field name="name" />
                <field name="color" widget="color_picker" />
            </tree>
        </field>
    </record>

    <record id="log_book_form" model="ir.ui.view"> <!-- Form -->
        <field name="name">log.book.form</field>
        <field name="model">log.book</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <div class="d-inline p-2"><field name="create_date"/></div>/
                    <div class="d-inline p-2"><field name="number" readonly="1"/></div>
                    <group>
                        <group>
                            <field name="postal_type" widget='radio' options="{'horizontal': true}" />
                        </group>
                        <group>
                            <field name="barcode" />
                        </group>
                        <group>
                            <field name="recipient_name" />
                            <field name="destination" />
                            <field name="weight" />
                            <field name="service_charge" />
                            <field name="note" />
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="log_book_postal_type_form" model="ir.ui.view"> <!-- Form ~ Master:(log book type) -->
        <field name="name">log.book.postal.type.form</field>
        <field name="model">log.book.postal.type</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <group>
                            <field name="code" />
                            <field name="name" />
                        </group>
                        <group>
                            <field name="color" widget="color_picker" />
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="log_book_search" model="ir.ui.view">
        <field name="name">log.book.search</field>
        <field name="model">log.book</field>
        <field name="arch" type="xml">
            <search string="Patients">
                <field name="create_date"/>
                <field name="postal_type"/>
                <field name="recipient_name"/>
                <separator/>
                <filter string="ประเภท: ลงทะเบียน" name="name_reg" domain="[('postal_type', '=', 'ลงทะเบียน')]"/>
                <filter string="ประเภท: พัสดุไปรษณีย์" name="name_pcp" domain="[('postal_type', '&lt;=', 'พัสดุไปรษณีย์')]"/>
                <filter string="ประเภท: EMS (ไปรษณีย์ด่วนพิเศษ)" name="name_ems" domain="[('postal_type', '=', 'EMS (ไปรษณีย์ด่วนพิเศษ)')]"/>
                <separator/>
                <filter string="บันทึกของวันนี้" name="create_date" domain="[('create_date', '>=', context_today().strftime('%Y-%m-%d'))]"/>
                <separator/>
                <filter string="บันทึกย้อนหลัง 7 วัน" name="seven_day_filters" domain="[('create_date', '>=', (context_today() + datetime.timedelta(-6)).strftime('%Y-%m-%d'))]"/>
                <!-- <filter string="Male" name="male" domain="[('gender', '=', 'male')]"/>
                <filter string="Female" name="female" domain="[('gender', '=', 'female')]"/>
                <filter string="Others" name="other" domain="[('gender', '=', 'other')]"/> -->
                <!-- <group expand="1" string="Group By">
                    <filter string="Gender" name="gender" context="{'group_by':'gender'}"/>
                    <filter string="Patient Name" name="patient_name" context="{'group_by':'name'}"/>
                    <filter string="Responsible" name="responsible_id" context="{'group_by':'responsible_id'}"/>
                </group> -->
            </search>
        </field>
    </record>
    
</odoo>
